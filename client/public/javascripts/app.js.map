{"version":3,"sources":["app/application.coffee","app/collections/daily_notes.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/request.coffee","app/lib/view_collection.coffee","app/models/daily_note.coffee","app/router.coffee","app/views/app_view.coffee","app/views/daily_note.coffee","app/views/daily_note_widget.coffee","app/views/daily_notes.coffee","app/views/templates/daily_note.jade","app/views/templates/daily_note_widget.coffee","app/views/templates/daily_note_widget.jade","app/views/templates/home.jade"],"names":[],"mappings":"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","file":"public/javascripts/app.js","sourcesContent":["module.exports =\n\n    initialize: ->\n        # Routing management\n        Router = require 'router'\n        @router = new Router()\n        Backbone.history.start()\n\n        # Makes this object immuable.\n        Object.freeze this if typeof Object.freeze is 'function'\n\n","module.exports = class DailyNotesCollection extends Backbone.Collection\n    url: 'daily-notes'\n\n","app = require 'application'\n\n# The function called from index.html\n$ ->\n    require 'lib/app_helpers'\n\n    app.initialize()\n\n","(->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","# Base component to build widgets.\nmodule.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n        @render()\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n\n    showLoading: ->\n        @$('.spinner').show()\n\n    hideLoading: ->\n        @$('.spinner').hide()\n\n","# Make ajax request more easy to do.\n# Expected callbacks: success and error\nexports.request = (type, url, data, callback) ->\n    $.ajax\n        type: type\n        url: url\n        data: if data? then JSON.stringify data else null\n        contentType: \"application/json\"\n        dataType: \"json\"\n        success: (data) ->\n            callback null, data if callback?\n        error: (data) ->\n            if data? and data.msg? and callback?\n                callback new Error data.msg\n            else if callback?\n                callback new Error \"Server error occured\"\n\n# Sends a get request with data as body\n# Expected callbacks: success and error\nexports.get = (url, callback) ->\n    exports.request \"GET\", url, null, callback\n\n# Sends a post request with data as body\n# Expected callbacks: success and error\nexports.post = (url, data, callback) ->\n    exports.request \"POST\", url, data, callback\n\n# Sends a put request with data as body\n# Expected callbacks: success and error\nexports.put = (url, data, callback) ->\n    exports.request \"PUT\", url, data, callback\n\n# Sends a delete request with data as body\n# Expected callbacks: success and error\nexports.del = (url, callback) ->\n    exports.request \"DELETE\", url, null, callback\n\n","BaseView = require 'lib/base_view'\n\n\n# Base view widget to display/manage list of data.\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    itemViewOptions: ->\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        if not @collectionEl?\n            collectionEl = @el\n\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        @render()\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n        @$collectionEl = $(@collectionEl)\n\n    renderAll: =>\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $(@collectionEl)\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}, @itemViewOptions(model)\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views\n\n","module.exports = class DailyNote extends Backbone.Model\n\n    urlRoot: 'daily-notes'\n\n    constructor: ->\n        super\n        @set 'id',  @get('date').format('YYYY-MM-DD')\n","AppView = require 'views/app_view'\n\n\nmodule.exports = class Router extends Backbone.Router\n\n\n    routes:\n        '': 'main'\n        'archives': 'archives'\n        ':date': 'note'\n\n\n    main: ->\n        day = moment()\n        @navigate day.format('YYYY-MM-DD'), trigger: true\n\n\n    archives: ->\n        @displayWidget 'archives'\n\n\n    note: (date) ->\n        @displayWidget 'dailyNote', date\n\n\n    displayWidget: (view, date) ->\n        @mainView ?= new AppView()\n        @mainView.showWidget view, date\n\n","\nBaseView = require '../lib/base_view'\nDailyNote = require '../models/daily_note'\nDailyNotes = require './daily_notes'\nDailyNoteWidget = require './daily_note_widget'\n\n\n# Represents main view, the one that builds widgets and display them\n# depending on state given by the router.\n# Sets window listeners to adapte the UI when resize occurs and to save current\n# writing when the window is closed.\nmodule.exports = class AppView extends BaseView\n\n    el: 'body.application'\n    template: require('./templates/home')\n\n\n    getRenderData: ->\n        date: moment().format 'DD/MM/YYYY'\n\n\n    # After the main view is rendered, it builds the daily note widget\n    # that allows the user to write his note.\n    afterRender: ->\n        @widgets = $ '.widget'\n\n        @noteWidget = new DailyNoteWidget\n        $(window).resize @noteWidget.resizeTextArea\n        $(window).on 'unload', @noteWidget.saveNote\n\n        @archivesWidget = $ '#archives'\n        @notes = new DailyNotes\n\n\n    # Display given widget (note editor, note list...)\n    showWidget: (widget, date) ->\n        @widgets.hide()\n        @[widget] date if @[widget]?\n\n\n    # Load an display given note.\n    dailyNote: (day) ->\n        if day?\n            day = moment(day).startOf 'day'\n        else\n            day = moment().startOf 'day'\n\n        dayValue = \"#{day.format 'YYYY-MM-DDT00:00:00.000'}Z\"\n        note = @notes.collection.findWhere\n            date: dayValue\n\n        if note?\n            note.set 'id',  day.format('YYYY-MM-DD')\n            @noteWidget.show note\n        else\n            note ?= new DailyNote date: day\n            note.fetch\n                success: (model) =>\n                    note.set 'id',  day.format('YYYY-MM-DD')\n                    @noteWidget.show note\n                error: (model) =>\n                    @noteWidget.show model\n\n\n    # Show archives widget.\n    archives: ->\n        @archivesWidget.show()\n\n","BaseView = require '../lib/base_view'\n\n\n# Represents a note displayed in the archive list.\nmodule.exports = class DailyNoteView extends BaseView\n    template: require './templates/daily_note'\n    className: 'daily-note'\n\n\n    # Set a max length for text attribute before rendering the line.\n    getRenderData: ->\n        date = moment(@model.get 'date').startOf 'day'\n        data =\n            date: date.format 'YYYY-MM-DD'\n            text: @model.get 'text'\n\n        data.displayDate = moment(data.date).format 'll'\n        maxLength = 80\n        if data.text?.length > maxLength\n            data.text = \"#{data.text.substring 0, maxLength}...\"\n\n        data\n\n","BaseView = require '../lib/base_view'\n\n\nmodule.exports = class DailyNoteWidget extends BaseView\n    el: '#daily-note'\n    template: require './templates/daily_note_widget'\n\n\n    events:\n        'keyup textarea': 'saveNote'\n        'click .remove': 'deleteNote'\n\n\n    afterRender: ->\n        @textField = @$ 'textarea'\n        @dateField = @$ '.date-field'\n        @isSaving = false\n\n\n    # Save note to database after 3s.\n    saveNote: =>\n        unless @isSaving\n            @isSaving = true\n            setTimeout =>\n                @model.set 'content', @textField.val()\n                @model.save\n                    success: =>\n                        @isSaving = false\n                        @saveNote()\n                    error: ->\n                        @isSaving = false\n                        @saveNote()\n            , 3000\n\n\n    # Delete current note.\n    deleteNote: =>\n        @model.destroy()\n        Backbone.history.navigate 'archives', trigger: true\n\n\n    # Resize text area (useful when window is resized).\n    resizeTextArea: ->\n        @textField?.height $(window).height() - 180\n\n\n    # Display current widget for given day.\n    # Reload text, if the widget is already visible.\n    show: (note) ->\n        @_hideLoading()\n        @model = note\n\n        @_showEl()\n\n        @textField.val @model.get('content') or ''\n        @dateField.html moment(@model.get 'date').format 'll'\n\n        @_focusTextarea()\n\n\n    # Focus on given text area.\n    _focusTextarea: ->\n        @textField.focus()\n        len = @textField.val().length\n        @textField[0].setSelectionRange len, len\n\n\n    # Show element.\n    _showEl: ->\n        @resizeTextArea()\n        @$el.show()\n\n\n    _showLoading: ->\n        @$('.spinner').show()\n\n\n    _hideLoading: ->\n        @$('.spinner').hide()\n\n","ViewCollection = require '../lib/view_collection'\nDailyNotesCollection = require '../collections/daily_notes'\nDailyNoteView = require './daily_note'\n\n\n# Represents the archive note list.\nmodule.exports = class DailyNotesView extends ViewCollection\n    el: '#daily-notes'\n    collectionEl: '#daily-notes'\n\n    collection: new DailyNotesCollection()\n    itemview: DailyNoteView\n\n    # Set events:\n    # * Render the whole list if the collections is reset.\n    # * Render one line if the an element is added.\n    afterRender: ->\n        @collection.on 'reset', @renderAll\n        @collection.on 'add', @renderOne\n\n        @collection.fetch\n            success: (models) ->\n                console.log models\n\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),date = locals_.date,displayDate = locals_.displayDate,text = locals_.text;\nbuf.push(\"<!-- .daily_note --><a\" + (jade.attr(\"href\", \"#\" + (date) + \"\", true, false)) + \" class=\\\"action\\\"><span class=\\\"date\\\">\" + (jade.escape(null == (jade_interp = displayDate) ? \"\" : jade_interp)) + \"</span><span class=\\\"text\\\">\" + (jade.escape(null == (jade_interp = text) ? \"\" : jade_interp)) + \"</span></a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","h2.date= date\ntextarea#note-area\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<h2 class=\\\"date\\\"><span class=\\\"date-field\\\"></span><span class=\\\"layout-right\\\"><a class=\\\"remove\\\">remove</a></span><img src=\\\"spinner.svg\\\" loading=\\\"loading\\\" indicator=\\\"indicator\\\" class=\\\"spinner\\\"/></h2><textarea id=\\\"note-area\\\"></textarea>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"content\\\"><div id=\\\"menu\\\"><h1><a href=\\\"#\\\">Hari</a></h1><a href=\\\"#archives\\\">archives</a><div></div></div><div id=\\\"daily-note\\\" class=\\\"widget\\\"></div><div id=\\\"archives\\\" class=\\\"widget\\\"><h2>Archives</h2><div id=\\\"daily-notes\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}